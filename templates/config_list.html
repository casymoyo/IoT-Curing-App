{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mt-4 mb-4">
  <div class="d-flex align-items-center">
    <div class="hint--bottom" aria-label="Dashboard">
        <a href="{% url 'dashboard' %}" class="bx bx-home bg-secondary text-light btn fs-5"></a>
    </div>
    <h3 class="mt-4 mb-4 mx-2">Configurations</h3>
  </div>
  <a href="{% url 'config-create' %}" class="btn btn-primary btn-sm">Add New Config</a>
</div>
<table id="configTable" class="table table-striped table-bordered mt-4">
    <thead>
      <tr>
        <th>Stage</th>
        <th>Name</th>
        <th>Lower Limit Value</th>
        <th>Upper Limit Value</th>
        <th>User</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for config in object_list %}
        <tr>
          <td>{{ config.stage }}</td>
          <td>{{ config.name }}</td>
          <td>{{ config.lower_limit_value }}</td>
          <td>{{ config.upper_limit_value }}</td>
          <td>{{ config.user }}</td>
          <td>
            <a href="{% url 'config-update' config.pk %}" class='bx bx-edit'></a>
            <form action="{% url 'config-delete' config.pk %}" method="post" style="display:inline;">
              {% csrf_token %}
              <button type="submit" onclick="return confirm('Are you sure?');" class='btn bx bx-trash'></button>
            </form>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <script>
    new DataTable('#configTable')
  </script>
{% endblock %}

